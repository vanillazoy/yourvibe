<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>{{ room.title }} | YourVibe</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    async function getAIRecommendations(roomId) {
      const res = await fetch(`/api/${roomId}/recommend`, { method: "POST" });
      const data = await res.json();
      alert("🎵 AI 추천 결과:\n\n" + data.recommendations.join("\\n"));
    }
  </script>
</head>
<body class="bg-[#0f172a] text-white min-h-screen flex flex-col items-center">
  <header class="flex justify-between items-center w-full max-w-5xl p-6">
    <a href="/rooms" class="text-sky-400 hover:text-teal-300 transition">← 돌아가기</a>
    <form action="/room/{{ room_id }}/delete" method="post" onsubmit="return confirm('정말 삭제하시겠어요?')">
      <button class="text-gray-400 hover:text-red-400 text-sm">삭제</button>
    </form>
  </header>

  <main class="w-full max-w-4xl p-8 text-center">
    <div class="bg-white/10 backdrop-blur-lg p-8 rounded-3xl border border-white/10 shadow-xl mb-10">
      <img src="{{ room.cover }}" alt="cover" class="w-64 h-64 object-cover rounded-2xl mx-auto mb-6" />
      <h1 class="text-3xl font-bold text-teal-300 mb-2">{{ room.title }}</h1>
      <p class="text-gray-400">{{ room.tag }}</p>
    </div>

    <section>
      <h2 class="text-xl font-semibold mb-4 text-sky-300">🎶 플레이리스트</h2>
      <ul class="space-y-3">
        {% for t in room.playlist %}
        <li class="bg-white/5 p-3 rounded-lg border border-white/10">
          <span class="font-medium">{{ t.title }}</span>
          <span class="text-gray-400 text-sm"> - {{ t.artist }}</span>
        </li>
        {% else %}
        <p class="text-gray-500">곡이 없습니다 😢</p>
        {% endfor %}
      </ul>
    </section>

    <button
      onclick="getAIRecommendations('{{ room_id }}')"
      class="mt-10 bg-gradient-to-r from-teal-400 to-sky-400 px-6 py-3 rounded-xl hover:opacity-90 transition-all"
    >
      🤖 AI 추천받기
    </button>
  </main>
</body>
</html>
