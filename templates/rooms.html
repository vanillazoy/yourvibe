<!doctype html>
<meta charset="utf-8">
<title>나의 플레이리스트 방</title>
<style>
  body { font-family: system-ui; max-width: 800px; margin: 40px auto; line-height: 1.6; }
  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 16px; }
  .card { border: 1px solid #ddd; border-radius: 12px; padding: 12px; text-align: center; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
  .card img { width: 100%; height: 120px; object-fit: cover; border-radius: 8px; }
  .card a { text-decoration: none; color: #333; font-weight: bold; display: block; margin-top: 8px; }
  header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
  button { padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; background: #fff; cursor: pointer; }
</style>

<header>
  <h1>🎵 나의 방 목록</h1>
  <div>
    <a href="/new"><button>➕ 새 방</button></a>
    <a href="/logout"><button>🚪 로그아웃</button></a>
  </div>
</header>

<div class="grid">
  {% for rid, info in rooms.items() %}
    <div class="card">
      {% if info.cover %}
        <img src="{{ info.cover }}" alt="cover">
      {% else %}
        <div style="height:120px; background:#f5f5f5; border-radius:8px; display:flex; align-items:center; justify-content:center;">No Cover</div>
      {% endif %}
      <a href="/room/{{ rid }}">{{ info.title }}</a>
      <p>{{ info.tag }}</p>
    </div>
  {% else %}
    <p>아직 생성된 방이 없습니다.</p>
  {% endfor %}
</div>
